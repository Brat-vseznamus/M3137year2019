# Конспект лекции 10/9/19

## Отношения

Конспекты по многим темам есть на [neerc](neerc.ifmo.ru).

**Опр.** *(нестрогое)* **Множество** - объединение неких объектов, каждый $x\in X$ либо $x\notin X$

$\mathbb{U}$ - **универсум** - множество всех объектов

**Прямое *(декартово)* произведение** $X\times Y = \{(x,y)| x\in X, y\in Y\}$

$R\subset X\times Y$ - (*бинарное*) **отношение между $X$ и $Y$** *(подмножество прямого произведения)*, в частности $R\subset X\times X$ - отношение на $X$.

### Свойства отношений

1. $\forall x: xRx$ - рефлексивность
2. $\forall x: x\cancel{R}x$ - антирефлексивность
3. $\forall x,y: xRy \Rightarrow yRx$ - симметричность
4. $\forall x,y: xRy \text{ и } yRx \Rightarrow x=y$ - антисимметричность
5. $\forall x,y,z: xRy, yRz \Rightarrow xRz$ - транзитивность

Тоже определение антисимметричности: $\forall x\not = y: xRy\Rightarrow y\cancel{R}x$

Эквивалентность:
- рефлексивность
- транзитивность
- симметричность

**Теорема**: Дано отношение эквивалентности $X$ на множестве $R$. $\exist Y = X/R$ и функция $f:X\to Y$, такие что $xRy \Leftrightarrow f(x)=f(y)$. $Y$ называется множеством классов эквивалентности $X$ относительно $R$.

Это можно понять следующей аналогией: Покрасим эквивалентные элементы в однаквые цвета, не эквивалентные элементы в разные.

**Пример** $X=\Z$, $R$ - сравнимость по модулю 17.

$\Z \equiv_{17} = \{ост.0, ост.1, ... ост.16\}$

Частичный порядок:
- рефлексивность
- транзитивность
- антисимметричность

**Теорема** В графе частичного порядка нет циклов, кроме петель.

*Доказательство:* от противного. Пусть в этом графе есть цикл длины $k$. Тогда по транзитивности в графе есть цикл длины $k-1$. Тогда есть цикл длины $2$ - противоречие по антисимметричности. $\blacksquare$

**Опр.** **Линейный порядок** - частичный порядок, где любые два элемента находятся в сравнении.

**Опр.** **Композицией** отношений $R$ и $S$, определенных на $X$, называется отношение $RS$ такое, что $xRSy$, если $\exists z: xRz, zSy$.

$RS \cancel{\Leftrightarrow} SR$

Частный случай: $xR^2y$ - значит, что в графе отношений от $x$ до $y$ можно дойти за 2 шага.

$R^0=I$ - отношение равенства, $I=\{(x,x) | x\in X\}$ - минимальное рефлексивное отношение

$\bigcup\limits_{i=0}^{\infin}R^i$ - рефлексивное транзитивное замыкание отношения $R$, обозначается $R^*$

$\bigcup\limits_{i=1}^{\infin}R^i$ - транзитивное замыкание отношения $R$, обозначается $R^+$

**Лемма** $R, S$ - транзитивное отношение на $X$, тогда $R\cap S$ - транзитивное отношение на $X$.

*Доказательство:* $\ T:=R\cap S \quad$ $xTy,yTz \Rightarrow xRy,xSy,yRz,ySz \Rightarrow xRz, xSz \Rightarrow xTz \blacksquare$

Эта лемма верна для пересечения произвольного количества отношений.

$T(R)=\{S | R\subset S, S-транз.\}$ - множество всех транзитивных надмножеств $R.\\$$TC(R):=\bigcap\limits_{S\in T(R)}S$

**Теорема** $TC(R)=R^+$

*Доказательство*: $TC(R)=R^+ \Leftrightarrow TC(R)\subset R^+, R^+\subset TC(R)\\$
$R^+ - транз., R\subset R^+ \Rightarrow R^+\in T(R) \Rightarrow TC(R)\subset R^+$

Докажем, что $R^i\subset TC(R)$ по мат.инд.

*База:* $i=1 \quad R^1=R\subset TC(R)$

*Переход:* $R^{i+1}=R^iR \quad R^i\subset TC(R), R\subset TC(R)\\$
$\exist z: xR^iz, zRy \Rightarrow xTC(R)z, zTC(R)y \Rightarrow xTC(R)y \Rightarrow R^{i+1}\subset TC(R)$